---
title: å¹¿åº¦ä¼˜å…ˆ
date: 2021-04-01
sidebar: 'auto'
---

## è§£é¢˜å¥—è·¯
::: tip
å¹¿åº¦ä¼˜å…ˆå°±ä½¿ç”¨ã€Œé˜Ÿåˆ—ã€è¿™ç§æ•°æ®ç»“æ„
:::
BFS æœ¬è´¨å°±æ˜¯è®©ä½ åœ¨ä¸€å¹…ã€Œå›¾ã€ä¸­æ‰¾åˆ°ä»èµ·ç‚¹ start åˆ°ç»ˆç‚¹ target çš„æœ€è¿‘è·ç¦»ã€‚

è¿™ä¸ªå¹¿ä¹‰çš„æè¿°å¯ä»¥æœ‰å„ç§å˜ä½“ï¼Œæ¯”å¦‚èµ°è¿·å®«ï¼Œæœ‰çš„æ ¼å­æ˜¯å›´å¢™ä¸èƒ½èµ°ï¼Œä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¤šå°‘ï¼Ÿå¦‚æœè¿™ä¸ªè¿·å®«å¸¦ã€Œä¼ é€é—¨ã€å¯ä»¥ç¬é—´ä¼ é€å‘¢ï¼Ÿ

å†æ¯”å¦‚è¯´ä¸¤ä¸ªå•è¯ï¼Œè¦æ±‚ä½ é€šè¿‡æŸäº›æ›¿æ¢ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ªå˜æˆå¦ä¸€ä¸ªï¼Œæ¯æ¬¡åªèƒ½æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€å°‘è¦æ›¿æ¢å‡ æ¬¡ï¼Ÿ

å†æ¯”å¦‚è¯´è¿è¿çœ‹æ¸¸æˆï¼Œä¸¤ä¸ªæ–¹å—æ¶ˆé™¤çš„æ¡ä»¶ä¸ä»…ä»…æ˜¯å›¾æ¡ˆç›¸åŒï¼Œè¿˜å¾—ä¿è¯ä¸¤ä¸ªæ–¹å—ä¹‹é—´çš„æœ€çŸ­è¿çº¿ä¸èƒ½å¤šäºä¸¤ä¸ªæ‹ç‚¹ã€‚ä½ ç©è¿è¿çœ‹ï¼Œç‚¹å‡»ä¸¤ä¸ªåæ ‡ï¼Œæ¸¸æˆæ˜¯å¦‚ä½•åˆ¤æ–­å®ƒä¿©çš„æœ€çŸ­è¿çº¿æœ‰å‡ ä¸ªæ‹ç‚¹çš„ï¼Ÿ

æœ¬è´¨ä¸Šå°±æ˜¯ä¸€å¹…ã€Œå›¾ã€ï¼Œè®©ä½ ä»ä¸€ä¸ªèµ·ç‚¹ï¼Œèµ°åˆ°ç»ˆç‚¹ï¼Œé—®æœ€çŸ­è·¯å¾„ã€‚è¿™å°±æ˜¯ BFS çš„æœ¬è´¨ï¼Œæ¡†æ¶ææ¸…æ¥šäº†ç›´æ¥é»˜å†™å°±å¥½ã€‚

è§£é¢˜æ¡†æ¶ï¼š
```java
// è®¡ç®—ä»èµ·ç‚¹ start åˆ°ç»ˆç‚¹ target çš„æœ€è¿‘è·ç¦»
int BFS(Node start, Node target) {
    Queue<Node> q; // æ ¸å¿ƒæ•°æ®ç»“æ„
    Set<Node> visited; // é¿å…èµ°å›å¤´è·¯

    q.offer(start); // å°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—
    visited.add(start);
    int step = 0; // è®°å½•æ‰©æ•£çš„æ­¥æ•°

    while (q not empty) {
        int sz = q.size();
        /* å°†å½“å‰é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‘å››å‘¨æ‰©æ•£ */
        for (int i = 0; i < sz; i++) {
            Node cur = q.poll();
            /* åˆ’é‡ç‚¹ï¼šè¿™é‡Œåˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹ */
            if (cur is target)
                return step;
            /* å°† cur çš„ç›¸é‚»èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— */
            for (Node x : cur.adj())
                if (x not in visited) {
                    q.offer(x);
                    visited.add(x);
                }
            }
        }
        /* åˆ’é‡ç‚¹ï¼šæ›´æ–°æ­¥æ•°åœ¨è¿™é‡Œ */
        step++;
    }
}
```

cur.adj() æ³›æŒ‡ cur ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚è¯´äºŒç»´æ•°ç»„ä¸­ï¼Œcur ä¸Šä¸‹å·¦å³å››é¢çš„ä½ç½®å°±æ˜¯ç›¸é‚»èŠ‚ç‚¹ï¼›
visited çš„ä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢èµ°å›å¤´è·¯ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯åƒä¸€èˆ¬çš„äºŒå‰æ ‘ç»“æ„ï¼Œæ²¡æœ‰å­èŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸ä¼šèµ°å›å¤´è·¯å°±ä¸éœ€è¦ visitedã€‚


## å‘˜å·¥çš„é‡è¦æ€§
[690. å‘˜å·¥çš„é‡è¦æ€§](https://leetcode-cn.com/problems/employee-importance/)

**é¢˜ç›®æè¿°**ï¼šç»™å®šä¸€ä¸ªä¿å­˜å‘˜å·¥ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†å‘˜å·¥ å”¯ä¸€çš„ id ï¼Œé‡è¦åº¦Â å’Œ ç›´ç³»ä¸‹å±çš„ id ã€‚æ¯”å¦‚ï¼Œå‘˜å·¥ 1 æ˜¯å‘˜å·¥ 2 çš„é¢†å¯¼ï¼Œå‘˜å·¥ 2 æ˜¯å‘˜å·¥ 3 çš„é¢†å¯¼ã€‚ä»–ä»¬ç›¸åº”çš„é‡è¦åº¦ä¸º 15 , 10 , 5 ã€‚é‚£ä¹ˆå‘˜å·¥ 1 çš„æ•°æ®ç»“æ„æ˜¯ [1, 15, [2]] ï¼Œå‘˜å·¥ 2çš„ æ•°æ®ç»“æ„æ˜¯ [2, 10, [3]] ï¼Œå‘˜å·¥ 3 çš„æ•°æ®ç»“æ„æ˜¯ [3, 5, []] ã€‚æ³¨æ„è™½ç„¶å‘˜å·¥ 3 ä¹Ÿæ˜¯å‘˜å·¥ 1 çš„ä¸€ä¸ªä¸‹å±ï¼Œä½†æ˜¯ç”±äº å¹¶ä¸æ˜¯ç›´ç³» ä¸‹å±ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°åœ¨å‘˜å·¥ 1 çš„æ•°æ®ç»“æ„ä¸­ã€‚ç°åœ¨è¾“å…¥ä¸€ä¸ªå…¬å¸çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œä»¥åŠå•ä¸ªå‘˜å·¥ id ï¼Œè¿”å›è¿™ä¸ªå‘˜å·¥å’Œä»–æ‰€æœ‰ä¸‹å±çš„é‡è¦åº¦ä¹‹å’Œã€‚

**ä»£ç **

```java
public int getImportance(List<Employee> employees, int id) {
    if (employees == null || employees.size() == 0) {
        return 0;
    }
    int res = 0;
    Map<Integer, Employee> employeesMap = new HashMap<>();
    for (Employee employee: employees) {
        employeesMap.put(employee.id, employee);
    }
    Deque<Employee> queue = new ArrayDeque<>();
    queue.offer(employeesMap.get(id));
    while(!queue.isEmpty()) {
        Employee curEmployee = queue.poll();
        res += curEmployee.importance;
        for (Integer employeeId : curEmployee.subordinates) {
            queue.offer(employeesMap.get(employeeId));
        }
    }
    return res;
}
```

## äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†
[103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†](https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/)

**é¢˜ç›®æè¿°**ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„é”¯é½¿å½¢å±‚åºéå†ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚

::: warning
è¿™é¢˜åªè¦èƒ½æƒ³æ˜ç™½ä¸ºä»€ä¹ˆä»å‰å‡ºé˜Ÿè¦ä»åå…¥é˜Ÿï¼Œè¿™é¢˜å°±è§£å†³äº†
:::

**ä»£ç **
```java
public List<List<Integer>> zigzagLevelOrder(TreeNode root) {
    List<List<Integer>> ans = new ArrayList<>();
    // é˜²å«è¯­å¥
    if (root == null) {
        return ans;
    }
    // å¹¿åº¦ä¼˜å…ˆï¼Œå…ˆæ•´ä¸€ä¸ªé˜Ÿåˆ—å‡ºæ¥
    Deque<TreeNode> queue = new ArrayDeque<>();
    queue.offer(root);
    boolean leftToRight = true;
    while (!queue.isEmpty()) {
        List<Integer> level = new ArrayList<>();
        for (int i = queue.size(); i > 0; i--) {
            TreeNode curNode;
            // ä»å‰å‡ºé˜Ÿåˆ™ä»åå…¥é˜Ÿï¼Œä»åå‡ºé˜Ÿçš„ä»å‰å…¥é˜Ÿ
            if (leftToRight) {
                curNode = queue.pollFirst();
                if (curNode.left != null) {
                    queue.offerLast(curNode.left);
                }
                if (curNode.right != null) {
                    queue.offerLast(curNode.right);
                }
            } else {
                curNode = queue.pollLast();
                if (curNode.right != null) {
                    queue.offerFirst(curNode.right);
                }
                if (curNode.left != null) {
                    queue.offerFirst(curNode.left);
                }
            }
            level.add(curNode.val);
        }
        leftToRight = !leftToRight;
        ans.add(level);
    }
    return ans;
}
```

## æ‰“å¼€è½¬ç›˜é”

**é¢˜ç›®æè¿°**ï¼šä½ æœ‰ä¸€ä¸ªå¸¦æœ‰å››ä¸ªåœ†å½¢æ‹¨è½®çš„è½¬ç›˜é”ã€‚æ¯ä¸ªæ‹¨è½®éƒ½æœ‰10ä¸ªæ•°å­—ï¼š '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' ã€‚æ¯ä¸ªæ‹¨è½®å¯ä»¥è‡ªç”±æ—‹è½¬ï¼šä¾‹å¦‚æŠŠ '9' å˜ä¸ºÂ  '0'ï¼Œ'0' å˜ä¸º '9' ã€‚æ¯æ¬¡æ—‹è½¬éƒ½åªèƒ½æ—‹è½¬ä¸€ä¸ªæ‹¨è½®çš„ä¸€ä½æ•°å­—ã€‚

é”çš„åˆå§‹æ•°å­—ä¸º '0000' ï¼Œä¸€ä¸ªä»£è¡¨å››ä¸ªæ‹¨è½®çš„æ•°å­—çš„å­—ç¬¦ä¸²ã€‚

åˆ—è¡¨ deadends åŒ…å«äº†ä¸€ç»„æ­»äº¡æ•°å­—ï¼Œä¸€æ—¦æ‹¨è½®çš„æ•°å­—å’Œåˆ—è¡¨é‡Œçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œè¿™ä¸ªé”å°†ä¼šè¢«æ°¸ä¹…é”å®šï¼Œæ— æ³•å†è¢«æ—‹è½¬ã€‚

å­—ç¬¦ä¸² target ä»£è¡¨å¯ä»¥è§£é”çš„æ•°å­—ï¼Œä½ éœ€è¦ç»™å‡ºæœ€å°çš„æ—‹è½¬æ¬¡æ•°ï¼Œå¦‚æœæ— è®ºå¦‚ä½•ä¸èƒ½è§£é”ï¼Œè¿”å› -1ã€‚

**ä»£ç **
```java
public int openLock(String[] deadends, String target) {
    Deque<String> queue = new ArrayDeque<>();
    queue.offer("0000");
    int times = 0;
    Set<String> used = new HashSet<>();
    for (String dead : deadends) {
        used.add(dead);
    }
    while (!queue.isEmpty()) {
        for (int i = queue.size(); i > 0; i--) {
            String cur = queue.poll();
            if (used.contains(cur)) {
                continue;
            }
            // ç»ˆæ­¢æ¡ä»¶
            if (cur.equals(target)) {
                return times;
            }
            used.add(cur);
            // è½¬åŠ¨ 4 ä¸ªä½ç½®ï¼Œæ¯ä¸ªä½ç½®æœ‰ä¸¤ç§å¯èƒ½
            for (int j = 0; j < 4; j++) {
                queue.offer(plusOne(cur, j));
                queue.offer(minusOne(cur, j));
            }
        }
        // å¢åŠ è½¬åŠ¨æ¬¡æ•°
        times++;
    }
    return -1;
}

private String plusOne(String str, int location) {
    char[] ch = str.toCharArray();
    if (ch[location] == '9') {
        ch[location] = '0';
    } else {
        ch[location] += 1;
    }
    return new String(ch);
}

private String minusOne(String str, int location) {
    char[] ch = str.toCharArray();
    if (ch[location] == '0') {
        ch[location] = '9';
    } else {
        ch[location] -= 1;
    }
    return new String(ch);
}
```

::: theorem
**åŒå‘ BFS ä¼˜åŒ–**

ä¼ ç»Ÿçš„ BFS æ¡†æ¶å°±æ˜¯ä»èµ·ç‚¹å¼€å§‹å‘å››å‘¨æ‰©æ•£ï¼Œé‡åˆ°ç»ˆç‚¹æ—¶åœæ­¢ï¼›è€ŒåŒå‘ BFS åˆ™æ˜¯ä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶å¼€å§‹æ‰©æ•£ï¼Œå½“ä¸¤è¾¹æœ‰äº¤é›†çš„æ—¶å€™åœæ­¢ã€‚

ä¸ºä»€ä¹ˆè¿™æ ·èƒ½å¤Ÿèƒ½å¤Ÿæå‡æ•ˆç‡å‘¢ï¼Ÿå…¶å®ä» Big O è¡¨ç¤ºæ³•åˆ†æç®—æ³•å¤æ‚åº¦çš„è¯ï¼Œå®ƒä¿©çš„æœ€åå¤æ‚åº¦éƒ½æ˜¯ O(N)ï¼Œä½†æ˜¯å®é™…ä¸ŠåŒå‘ BFS ç¡®å®ä¼šå¿«ä¸€äº›ï¼Œæˆ‘ç»™ä½ ç”»ä¸¤å¼ å›¾çœ‹ä¸€çœ¼å°±æ˜ç™½äº†ï¼š

![åŒå‘ BFS ä¼˜åŒ–å›¾](https://pic.leetcode-cn.com/1601438140-ONQJEB-file_1601438138860)

å›¾ç¤ºä¸­çš„æ ‘å½¢ç»“æ„ï¼Œå¦‚æœç»ˆç‚¹åœ¨æœ€åº•éƒ¨ï¼ŒæŒ‰ç…§ä¼ ç»Ÿ BFS ç®—æ³•çš„ç­–ç•¥ï¼Œä¼šæŠŠæ•´æ£µæ ‘çš„èŠ‚ç‚¹éƒ½æœç´¢ä¸€éï¼Œæœ€åæ‰¾åˆ° targetï¼›è€ŒåŒå‘ BFS å…¶å®åªéå†äº†åŠæ£µæ ‘å°±å‡ºç°äº†äº¤é›†ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°äº†æœ€çŸ­è·ç¦»ã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥ç›´è§‚åœ°æ„Ÿå—åˆ°ï¼ŒåŒå‘ BFS æ˜¯è¦æ¯”ä¼ ç»Ÿ BFS é«˜æ•ˆçš„ã€‚

**ä¸è¿‡ï¼ŒåŒå‘ BFS ä¹Ÿæœ‰å±€é™ï¼Œå› ä¸ºä½ å¿…é¡»çŸ¥é“ç»ˆç‚¹åœ¨å“ªé‡Œã€‚**
::: right
æ¥è‡ª[ labuladong ](https://leetcode-cn.com/problems/open-the-lock/solution/wo-xie-liao-yi-tao-bfs-suan-fa-kuang-jia-jian-dao-/)
:::

## å•è¯æ¥é¾™

[127. å•è¯æ¥é¾™](https://leetcode-cn.com/problems/word-ladder/)

**é¢˜ç›®æè¿°**ï¼šå­—å…¸Â `wordList` ä¸­ä»å•è¯ `beginWord`Â å’Œ `endWord` çš„ è½¬æ¢åºåˆ— æ˜¯ä¸€ä¸ªæŒ‰ä¸‹è¿°è§„æ ¼å½¢æˆçš„åºåˆ—ï¼š
- åºåˆ—ä¸­ç¬¬ä¸€ä¸ªå•è¯æ˜¯ `beginWord` 
- åºåˆ—ä¸­æœ€åä¸€ä¸ªå•è¯æ˜¯ `endWord` 
- æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯
- è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸Â `wordList` ä¸­çš„å•è¯

ç»™ä½ ä¸¤ä¸ªå•è¯ `beginWord`Â å’Œ `endWord` å’Œä¸€ä¸ªå­—å…¸ `wordList` ï¼Œæ‰¾åˆ°ä»Â `beginWord` åˆ°Â `endWord` çš„ æœ€çŸ­è½¬æ¢åºåˆ— ä¸­çš„ å•è¯æ•°ç›® ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› `0`ã€‚


**ä»£ç **
```java
public int ladderLength(String beginWord, String endWord, List<String> wordList) {
    if (wordList == null || wordList.size() == 0 || !wordList.contains(endWord)) {
        return 0;
    }
    // å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¿…é¡»ä½¿ç”¨é˜Ÿåˆ—å’Œè¡¨ç¤ºæ˜¯å¦è®¿é—®è¿‡çš„ visited (æ•°ç»„æˆ–è€…æ˜¯å“ˆå¸Œè¡¨)
    Deque<String> wordQueue = new ArrayDeque<>();
    Set<String> visited = new HashSet<>();
    wordQueue.offer(beginWord);
    // åŒ…å«èµ·ç‚¹ï¼Œå› æ­¤èµ·å§‹çš„æ­¥æ•°ä¸º 1 
    int step = 1;
    while (!wordQueue.isEmpty()) {
        for (int i = wordQueue.size(); i > 0; i--) {
            String curWord = wordQueue.poll();
            // ç›®æ ‡ç»“ç‚¹
            if (curWord.equals(endWord)) {
                return step;
            }
            if (visited.contains(curWord)) {
                continue;
            }
            // æ ‡è®°å½“å‰ç»“ç‚¹å·²è®¿é—®è¿‡
            visited.add(curWord);
            // æ‰©æ•£ä¸‹ä¸€å±‚ç»“ç‚¹æ”¾å…¥é˜Ÿåˆ—
            for (String word : wordList) {
                if (oneDiff(word, curWord)) {
                    wordQueue.offer(word);
                }
            }
        }
        step++;
    }
    return 0;
}

private boolean oneDiff(String word, String curWord) {
    int len = word.length();
    int diff = 0;
    for (int i = 0; i < len; i++) {
        if (word.charAt(i) != curWord.charAt(i)) {
            diff++;
        }
    }
    return diff == 1;
}
```

::: danger
è¿™ç§è§£æ³•å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼ŒåŸå› å°±åœ¨äº `oneDiff` è¿™ä¸ªæ–¹æ³•å’Œ`wordList`å•è¯çš„ä¸ªæ•°ï¼Œæ•´ä¸ªçš„å¤æ‚åº¦ä¸º `O(å•è¯æ•°ç›® Ã— å•è¯é•¿åº¦)`
:::

::: theorem
æˆ‘ä»¬åœ¨éå†ä¸€å¼€å§‹ï¼ŒæŠŠæ‰€æœ‰çš„å•è¯åˆ—è¡¨æ”¾è¿›ä¸€ä¸ªå“ˆå¸Œè¡¨ä¸­ï¼Œç„¶ååœ¨éå†çš„æ—¶å€™æ„å»ºå›¾ï¼Œæ¯ä¸€æ¬¡å¾—åˆ°åœ¨å•è¯åˆ—è¡¨é‡Œå¯ä»¥è½¬æ¢çš„å•è¯ï¼Œå¤æ‚åº¦æ˜¯ `O(26 Ã— wordLen)`
::: right
æ¥è‡ª[ ä½œè€…ï¼šliweiwei1419 ](https://leetcode-cn.com/problems/word-ladder/solution/yan-du-you-xian-bian-li-shuang-xiang-yan-du-you-2/)
:::

**æé€Ÿä»£ç **

```java
public int ladderLength(String beginWord, String endWord, List<String> wordList) {
    if (wordList == null || wordList.size() == 0 || !wordList.contains(endWord)) {
        return 0;
    }
    Set<String> wordSet = new HashSet<>(wordList);
    Deque<String> wordQueue = new ArrayDeque<>();
    Set<String> visited = new HashSet<>();
    wordQueue.offer(beginWord);
    int step = 1;
    // å•è¯é•¿åº¦å›ºå®š
    int wordLen = endWord.length();
    while (!wordQueue.isEmpty()) {
        for (int i = wordQueue.size(); i > 0; i--) {
            String curWord = wordQueue.poll();
            if (curWord.equals(endWord)) {
                return step;
            }
            if (visited.contains(curWord)) {
                continue;
            }
            visited.add(curWord);
            // æ‰©å±•è¿‡ç¨‹æ”¹æˆæ¯ä¸ªå­—ç¬¦è½¬å˜
            char[] charArray = curWord.toCharArray();
            for (int j = 0; j < wordLen; j++) {
                char originalChar = charArray[j];
                for (char k = 'a'; k <= 'z'; k++) {
                    if (k == originalChar) {
                        continue;
                    }
                    charArray[j] = k;
                    String nextWord = String.valueOf(charArray);
                    if (wordSet.contains(nextWord)) {
                        wordQueue.offer(nextWord);
                    }
                }
                charArray[j] = originalChar;
            }
        }
        step++;
    }
    return 0;
}
```

::: tip
æ²¡æé€Ÿå‰æ˜¯ 1507 msï¼Œ æé€Ÿåæ˜¯ 88 ms
:::

::: danger
å¯ä»¥è¯•ç€ç”¨åŒå‘å¹¿åº¦ä¼˜å…ˆè§£å†³æœ¬é¢˜
:::

## è¿·å®«

[490. è¿·å®«](https://leetcode-cn.com/problems/the-maze/)

**é¢˜ç›®æè¿°**ï¼šç”±ç©ºåœ°å’Œå¢™ç»„æˆçš„è¿·å®«ä¸­æœ‰ä¸€ä¸ªçƒã€‚çƒå¯ä»¥å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æ»šåŠ¨ï¼Œä½†åœ¨é‡åˆ°å¢™å£å‰ä¸ä¼šåœæ­¢æ»šåŠ¨ã€‚å½“çƒåœä¸‹æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚

ç»™å®šçƒçš„èµ·å§‹ä½ç½®ï¼Œç›®çš„åœ°å’Œè¿·å®«ï¼Œåˆ¤æ–­çƒèƒ½å¦åœ¨ç›®çš„åœ°åœä¸‹ã€‚

è¿·å®«ç”±ä¸€ä¸ª0å’Œ1çš„äºŒç»´æ•°ç»„è¡¨ç¤ºã€‚ 1è¡¨ç¤ºå¢™å£ï¼Œ0è¡¨ç¤ºç©ºåœ°ã€‚ä½ å¯ä»¥å‡å®šè¿·å®«çš„è¾¹ç¼˜éƒ½æ˜¯å¢™å£ã€‚èµ·å§‹ä½ç½®å’Œç›®çš„åœ°çš„åæ ‡é€šè¿‡è¡Œå·å’Œåˆ—å·ç»™å‡ºã€‚

ğŸŒ°
```
è¾“å…¥ 1: è¿·å®«ç”±ä»¥ä¸‹äºŒç»´æ•°ç»„è¡¨ç¤º

0 0 1 0 0
0 0 0 0 0
0 0 0 1 0
1 1 0 1 1
0 0 0 0 0

è¾“å…¥ 2: èµ·å§‹ä½ç½®åæ ‡ (rowStart, colStart) = (0, 4)
è¾“å…¥ 3: ç›®çš„åœ°åæ ‡ (rowDest, colDest) = (4, 4)

è¾“å‡º: true

è§£æ: ä¸€ä¸ªå¯èƒ½çš„è·¯å¾„æ˜¯ : å·¦ -> ä¸‹ -> å·¦ -> ä¸‹ -> å³ -> ä¸‹ -> å³ã€‚
```
![](https://assets.leetcode.com/uploads/2018/10/12/maze_1_example_1.png)

**ä»£ç **

```java
public boolean hasPath(int[][] maze, int[] start, int[] destination) {
    Deque<int[]> queue = new ArrayDeque<>();
    queue.offer(start);
    boolean[][] visited = new boolean[maze.length][maze[0].length];
    int[][] dirs = {{0, 1}, {0, -1}, {-1, 0}, {1, 0}};
    while (!queue.isEmpty()) {
        for (int i = queue.size(); i > 0; i--) {
            int[] cur = queue.poll();
            if (visited[cur[0]][cur[1]]) {
                continue;
            }
            if (cur[0] == destination[0] && cur[1] == destination[1]) {
                return true;
            }
            visited[cur[0]][cur[1]] = true;
            // å¯»æ‰¾ä¸‹ä¸€å±‚
            for (int[] dir : dirs) {
                int x = cur[0];
                int y = cur[1];
                while (x + dir[0] >= 0 && x + dir[0] < maze.length && y + dir[1] >= 0 && y + dir[1] < maze[0].length 
                && maze[x + dir[0]][y + dir[1]] == 0) {
                    x = x + dir[0];
                    y = y + dir[1];
                }
                if (!visited[x][y]) {
                    queue.offer(new int[]{x, y});
                }
            }
        }
    }
    return false;
}
```

[505. è¿·å®« II](https://leetcode-cn.com/problems/the-maze-ii/)

**é¢˜ç›®æè¿°**ï¼šç”±ç©ºåœ°å’Œå¢™ç»„æˆçš„è¿·å®«ä¸­æœ‰ä¸€ä¸ªçƒã€‚çƒå¯ä»¥å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æ»šåŠ¨ï¼Œä½†åœ¨é‡åˆ°å¢™å£å‰ä¸ä¼šåœæ­¢æ»šåŠ¨ã€‚å½“çƒåœä¸‹æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚ç»™å®šçƒçš„èµ·å§‹ä½ç½®ï¼Œç›®çš„åœ°å’Œè¿·å®«ï¼Œæ‰¾å‡ºè®©çƒåœåœ¨ç›®çš„åœ°çš„æœ€çŸ­è·ç¦»ã€‚è·ç¦»çš„å®šä¹‰æ˜¯çƒä»èµ·å§‹ä½ç½®ï¼ˆä¸åŒ…æ‹¬ï¼‰åˆ°ç›®çš„åœ°ï¼ˆåŒ…æ‹¬ï¼‰ç»è¿‡çš„ç©ºåœ°ä¸ªæ•°ã€‚å¦‚æœçƒæ— æ³•åœåœ¨ç›®çš„åœ°ï¼Œè¿”å›Â -1ã€‚è¿·å®«ç”±ä¸€ä¸ª0å’Œ1çš„äºŒç»´æ•°ç»„è¡¨ç¤ºã€‚ 1è¡¨ç¤ºå¢™å£ï¼Œ0è¡¨ç¤ºç©ºåœ°ã€‚ä½ å¯ä»¥å‡å®šè¿·å®«çš„è¾¹ç¼˜éƒ½æ˜¯å¢™å£ã€‚èµ·å§‹ä½ç½®å’Œç›®çš„åœ°çš„åæ ‡é€šè¿‡è¡Œå·å’Œåˆ—å·ç»™å‡ºã€‚

ğŸŒ°
```
è¾“å…¥ 1: è¿·å®«ç”±ä»¥ä¸‹äºŒç»´æ•°ç»„è¡¨ç¤º

0 0 1 0 0
0 0 0 0 0
0 0 0 1 0
1 1 0 1 1
0 0 0 0 0

è¾“å…¥ 2: èµ·å§‹ä½ç½®åæ ‡ (rowStart, colStart) = (0, 4)
è¾“å…¥ 3: ç›®çš„åœ°åæ ‡ (rowDest, colDest) = (4, 4)

è¾“å‡º: 12

è§£æ: ä¸€æ¡æœ€çŸ­è·¯å¾„ : left -> down -> left -> down -> right -> down -> rightã€‚
             æ€»è·ç¦»ä¸º 1 + 1 + 3 + 1 + 2 + 2 + 2 = 12ã€‚
```

[499. è¿·å®« III](https://leetcode-cn.com/problems/the-maze-iii/)

**é¢˜ç›®æè¿°**ï¼šç”±ç©ºåœ°å’Œå¢™ç»„æˆçš„è¿·å®«ä¸­æœ‰ä¸€ä¸ªçƒã€‚çƒå¯ä»¥å‘ä¸Šï¼ˆuï¼‰ä¸‹ï¼ˆdï¼‰å·¦ï¼ˆlï¼‰å³ï¼ˆrï¼‰å››ä¸ªæ–¹å‘æ»šåŠ¨ï¼Œä½†åœ¨é‡åˆ°å¢™å£å‰ä¸ä¼šåœæ­¢æ»šåŠ¨ã€‚å½“çƒåœä¸‹æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚è¿·å®«ä¸­è¿˜æœ‰ä¸€ä¸ªæ´ï¼Œå½“çƒè¿åŠ¨ç»è¿‡æ´æ—¶ï¼Œå°±ä¼šæ‰è¿›æ´é‡Œã€‚

ç»™å®šçƒçš„èµ·å§‹ä½ç½®ï¼Œç›®çš„åœ°å’Œè¿·å®«ï¼Œæ‰¾å‡ºè®©çƒä»¥æœ€çŸ­è·ç¦»æ‰è¿›æ´é‡Œçš„è·¯å¾„ã€‚Â è·ç¦»çš„å®šä¹‰æ˜¯çƒä»èµ·å§‹ä½ç½®ï¼ˆä¸åŒ…æ‹¬ï¼‰åˆ°ç›®çš„åœ°ï¼ˆåŒ…æ‹¬ï¼‰ç»è¿‡çš„ç©ºåœ°ä¸ªæ•°ã€‚é€šè¿‡'u', 'd', 'l' å’ŒÂ 'r'è¾“å‡ºçƒçš„ç§»åŠ¨æ–¹å‘ã€‚Â ç”±äºå¯èƒ½æœ‰å¤šæ¡æœ€çŸ­è·¯å¾„ï¼ŒÂ è¯·è¾“å‡ºå­—å…¸åºæœ€å°çš„è·¯å¾„ã€‚å¦‚æœçƒæ— æ³•è¿›å…¥æ´ï¼Œè¾“å‡º"impossible"ã€‚

è¿·å®«ç”±ä¸€ä¸ª0å’Œ1çš„äºŒç»´æ•°ç»„è¡¨ç¤ºã€‚ 1è¡¨ç¤ºå¢™å£ï¼Œ0è¡¨ç¤ºç©ºåœ°ã€‚ä½ å¯ä»¥å‡å®šè¿·å®«çš„è¾¹ç¼˜éƒ½æ˜¯å¢™å£ã€‚èµ·å§‹ä½ç½®å’Œç›®çš„åœ°çš„åæ ‡é€šè¿‡è¡Œå·å’Œåˆ—å·ç»™å‡ºã€‚

ğŸŒ°
```
è¾“å…¥ 1: è¿·å®«ç”±ä»¥ä¸‹äºŒç»´æ•°ç»„è¡¨ç¤º

0 0 0 0 0
1 1 0 0 1
0 0 0 0 0
0 1 0 0 1
0 1 0 0 0

è¾“å…¥ 2: çƒçš„åˆå§‹ä½ç½® (rowBall, colBall) = (4, 3)
è¾“å…¥ 3: æ´çš„ä½ç½® (rowHole, colHole) = (0, 1)

è¾“å‡º: "lul"

è§£æ: æœ‰ä¸¤æ¡è®©çƒè¿›æ´çš„æœ€çŸ­è·¯å¾„ã€‚
ç¬¬ä¸€æ¡è·¯å¾„æ˜¯ å·¦ -> ä¸Š -> å·¦, è®°ä¸º "lul".
ç¬¬äºŒæ¡è·¯å¾„æ˜¯ ä¸Š -> å·¦, è®°ä¸º 'ul'.
ä¸¤æ¡è·¯å¾„éƒ½å…·æœ‰æœ€çŸ­è·ç¦»6, ä½†'l' < 'u'ï¼Œæ•…ç¬¬ä¸€æ¡è·¯å¾„å­—å…¸åºæ›´å°ã€‚å› æ­¤è¾“å‡º"lul"ã€‚
```
![](https://assets.leetcode.com/uploads/2018/10/13/maze_2_example_1.png)

[1036. é€ƒç¦»å¤§è¿·å®«](https://leetcode-cn.com/problems/escape-a-large-maze/)
